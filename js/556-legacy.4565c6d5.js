"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[556,1289],{18184:function(e,n,t){t.a(e,(async function(e){t(93300);var u=t(96461),l=(t(38049),t(94776)),r=(t(89397),t(98704)),a=(t(50460),t(80044)),i=(t(41539),t(26699),t(32023),t(54747),t(21249),t(66252)),o=t(2262),c=t(49963),d=t(3577),f=t(30167),v=t(65470),p=t(66309),s=t(60191),h=t(71289),m=e([f]);f=(m.then?await m:m)[0];var k={class:"input-box"};n.Z=(0,i.aZ)({props:{value:{type:Array,default:function(){return[]},isRequired:!0}},emits:["update:value"],setup:function(e,n){var t=n.emit,m=e,g=(0,p.NCN)(m,"value",t),y=(0,o.iH)(),b=(0,o.iH)((0,f.ik)()),w=a.ZP.useInjectFormItemContext(),C=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.reduce((function(n,t){var u,l;return null!==(u=t.children)&&void 0!==u&&u.length||!t.checked||!t.value||n.push({label:t.value,value:t.value,node:t}),null!==(l=t.children)&&void 0!==l&&l.length&&e(t.children,n),n}),t)},S=function(e){var n=function e(n){return n.some((function(n){var t;return!!g.value.includes(n.value)||!(null===(t=n.children)||void 0===t||!t.length)&&e(n.children)}))};!function e(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==t||t.forEach((function(t){var l,r;null!==(l=t.children)&&void 0!==l&&l.length&&e(t.children,t),t.parent=u,t.indeterminate=!1,t.checked=g.value.includes(t.value),null!==(r=t.children)&&void 0!==r&&r.length&&(t.indeterminate=n(t.children))}))}(e)};S(b.value);var _=function(){g.value=[],setTimeout((function(){var e;b.value=(0,f.ik)(),S(b.value),null===(e=y.value)||void 0===e||e.clearCheck()}))},I=(0,o.Fl)((function(){return C(b.value)}));return(0,i.YP)((function(){return I.value}),(function(e){g.value=e.map((function(e){return e.value})),w.onFieldChange()})),function(e,n){return(0,i.wg)(),(0,i.j4)((0,o.SU)(r.Z),{placement:"bottomLeft",trigger:"click"},{content:(0,i.w5)((function(){return[(0,i.Wm)(v.default,{ref_key:"nodePanelRef",ref:y,options:b.value},null,8,["options"])]})),default:(0,i.w5)((function(){return[(0,i._)("div",k,[(0,i.Wm)((0,o.SU)(l.ZP),{placeholder:"请选择"},(0,i.Nv)({_:2},[(0,o.SU)(I).length?{name:"prefix",fn:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(I),(function(e){return(0,i.wg)(),(0,i.j4)((0,o.SU)(u.Z),{key:e.value,class:"tag-item",closable:"",onClose:(0,c.iM)((function(n){return function(e){(0,h.updateNodeCheckStatus)(!1,e.node)}(e)}),["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,d.zw)(e.label),1)]})),_:2},1032,["onClose"])})),128)),(0,i.Wm)((0,o.SU)(s.Z),{class:"clear-icon",onClick:(0,c.iM)(_,["prevent"])},null,8,["onClick"])]}))}:void 0]),1024)])]})),_:1})}}})}))},71289:function(e,n,t){t.r(n),t.d(n,{setParentChecked:function(){return u},setChildrenChecked:function(){return l},updateNodeCheckStatus:function(){return r}});t(41539),t(54747);var u=function e(n){var t=null==n?void 0:n.children,u=null==t?void 0:t.length,l=!!u&&!t.some((function(e){return!e.checked})),r=!!u&&t.some((function(e){return e.checked||e.indeterminate}));n.checked=l,n.indeterminate=!l&&r,n.parent&&e(n.parent)},l=function e(n,t){null==n||n.forEach((function(n){var u;n.checked=t,n.indeterminate=!1,null!==(u=n.children)&&void 0!==u&&u.length&&e(n.children,t)}))},r=function(e,n){var t;n.checked=e,n.indeterminate=!1,Array.isArray(n.children)&&null!==(t=n.children)&&void 0!==t&&t.length&&l(n.children,e),n.parent&&u(n.parent)}},90556:function(e,n,t){t.a(e,(async function(e){t.r(n),t.d(n,{menuSchemas:function(){return o}});t(21249),t(47941);var u=t(2262),l=t(23589),r=t(37645),a=t(710),i=e([r]);r=(i.then?await i:i)[0];var o=[{field:"type",component:"RadioGroup",label:"菜单类型",defaultValue:0,rules:[{required:!0,type:"number"}],componentProps:{options:[{label:"目录",value:0},{label:"菜单",value:1},{label:"权限",value:2}]}},{field:"name",component:"Input",label:"节点名称",rules:[{required:!0,type:"string"}]},{field:"parentId",component:"TreeSelect",label:"上级节点",componentProps:{fieldNames:{label:"name",value:"id"},getPopupContainer:function(){return document.body}},rules:[{required:!0,type:"number"}]},{field:"router",component:"Input",label:"节点路由",vIf:function(e){return 2!==e.formModel.type},rules:[{required:!0,type:"string"}]},{field:"perms",component:(0,u.XI)(r.default),label:"权限",vIf:function(e){return 2===e.formModel.type},rules:[{required:!0,type:"array",message:"请选择权限"}]},{field:"icon",component:(0,u.XI)(l.default),label:"节点图标",vIf:function(e){return 2!==e.formModel.type}},{field:"viewPath",component:"Select",label:"节点路径",vIf:function(e){return 1===e.formModel.type},componentProps:{options:Object.keys(a.constantRouterComponents).map((function(e){return{label:e,value:e}}))}},{field:"keepalive",component:"Switch",label:"是否缓存",defaultValue:!0,vIf:function(e){return 1===e.formModel.type}},{field:"isShow",component:"Switch",label:"是否显示",defaultValue:!0,vIf:function(e){return 2!==e.formModel.type}},{field:"orderNum",component:"InputNumber",label:"排序号",defaultValue:255,componentProps:{style:{width:"100%"}}}]}))},37645:function(e,n,t){t.a(e,(async function(e){t.r(n);var u=t(81670),l=(t(78482),t(83744)),r=e([u]);u=(r.then?await r:r)[0];const a=(0,l.Z)(u.Z,[["__scopeId","data-v-d3fedc3c"]]);n.default=a}))},65470:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});t(79861);var u=t(25808),l=(t(69826),t(41539),t(54747),t(66252)),r=t(2262),a=t(3577),i=t(67944),o=t(71289),c={class:"flex"},d={class:"ant-cascader-menu min-w-150px"},f=["onClick"],v={class:"label"},p=(0,l.aZ)({props:{options:{type:Array,default:function(){return[]}}},setup:function(e,n){var t=n.expose,p=e,s=(0,r.iH)(),h=(0,r.iH)([]),m=(0,r.iH)(),k=function(){var e,n;return null===(e=p.options)||void 0===e||null===(n=e.find((function(e){return e.value===m.value})))||void 0===n?void 0:n.children},g=(0,r.Fl)(k);(0,l.YP)(g,(function(e){e||(h.value=[])}));return t({clearCheck:function(){var e;h.value.forEach((function(e){e.checked=!1,e.indeterminate=!1})),h.value.length&&setTimeout((function(){h.value=k()||[]})),null===(e=s.value)||void 0===e||e.clearCheck()}}),function(n,t){var p,k=(0,l.up)("node-panel",!0);return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.options,(function(e){var n;return(0,l.wg)(),(0,l.iD)("div",{key:e.value,onClick:function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;h.value=e,m.value=n}(e.children,e.value)},class:"check-row ant-cascader-menu-item ant-cascader-menu-item-expand"},[(0,l._)("div",null,[(0,l.Wm)((0,r.SU)(u.ZP),{checked:e.checked,"onUpdate:checked":function(n){return e.checked=n},indeterminate:e.indeterminate,onChange:function(n){return function(e,n){var t=e.target.checked;(0,o.updateNodeCheckStatus)(t,n)}(n,e)}},null,8,["checked","onUpdate:checked","indeterminate","onChange"]),(0,l._)("span",v,(0,a.zw)(e.label),1)]),null!==(n=e.children)&&void 0!==n&&n.length?((0,l.wg)(),(0,l.j4)((0,r.SU)(i.Z),{key:0,class:"arrow"})):(0,l.kq)("",!0)],8,f)})),128))]),null!==(p=h.value)&&void 0!==p&&p.length&&(0,r.SU)(g)?((0,l.wg)(),(0,l.j4)(k,{key:0,ref_key:"nodePanelRef",ref:s,options:h.value},null,8,["options"])):(0,l.kq)("",!0)])}}});var s=(0,t(83744).Z)(p,[["__scopeId","data-v-f8cc67aa"]])},81670:function(e,n,t){t.a(e,(async function(e){t.d(n,{Z:function(){return u.Z}});var u=t(18184),l=e([u]);u=(l.then?await l:l)[0]}))},78482:function(){}}]);